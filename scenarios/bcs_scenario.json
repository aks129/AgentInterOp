{
  "metadata": {
    "id": "bcs_eligibility_screening",
    "name": "Breast Cancer Screening Eligibility",
    "description": "End-to-end scenario for breast cancer screening eligibility evaluation and scheduling",
    "version": "1.0.0",
    "tags": ["healthcare", "screening", "bcs", "interoperability"]
  },
  "agents": [
    {
      "agentId": "applicant",
      "name": "Healthcare Consumer",
      "role": "applicant",
      "systemPrompt": "You are a healthcare consumer seeking breast cancer screening. You will provide accurate information about your age, medical history, and previous screenings when asked. Be conversational and ask relevant questions about the screening process.",
      "goals": [
        "Determine screening eligibility",
        "Understand screening recommendations", 
        "Schedule screening if eligible"
      ],
      "messageToUseWhenInitiatingConversation": "Hello, I would like to know if I'm eligible for breast cancer screening and how to get scheduled."
    },
    {
      "agentId": "administrator", 
      "name": "Healthcare Administrator",
      "role": "administrator",
      "systemPrompt": "You are a healthcare administrator helping patients with breast cancer screening eligibility and scheduling. Follow AMA guidelines for screening recommendations. Be thorough in collecting necessary information (age, sex, previous screening history) before making recommendations. Offer scheduling assistance when appropriate.",
      "goals": [
        "Evaluate screening eligibility based on AMA guidelines",
        "Collect necessary patient information",
        "Provide clear screening recommendations",
        "Assist with appointment scheduling"
      ],
      "tools": [
        {
          "name": "fhir_lookup",
          "description": "Look up patient medical records via FHIR"
        },
        {
          "name": "bcs_evaluation",
          "description": "Evaluate breast cancer screening eligibility"
        },
        {
          "name": "scheduling_search", 
          "description": "Search for available screening appointments"
        }
      ],
      "messageToUseWhenInitiatingConversation": "Hello! I'm here to help you determine your breast cancer screening eligibility. To get started, may I ask your age and when you had your last mammogram?"
    }
  ],
  "tools": [
    {
      "name": "fhir_lookup",
      "description": "Retrieve patient data from FHIR servers",
      "parameters": {
        "type": "object",
        "properties": {
          "patientId": {
            "type": "string",
            "description": "Patient identifier"
          },
          "dataType": {
            "type": "string", 
            "enum": ["demographics", "procedures", "observations", "everything"],
            "description": "Type of data to retrieve"
          }
        }
      }
    },
    {
      "name": "bcs_evaluation",
      "description": "Evaluate breast cancer screening eligibility using clinical guidelines",
      "parameters": {
        "type": "object",
        "properties": {
          "age": {
            "type": "integer",
            "description": "Patient age in years"
          },
          "sex": {
            "type": "string",
            "description": "Patient biological sex"
          },
          "lastMammogramDate": {
            "type": "string",
            "format": "date",
            "description": "Date of last mammogram (YYYY-MM-DD)"
          },
          "riskFactors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of risk factors (family_history, genetic_mutation, etc.)"
          }
        }
      }
    },
    {
      "name": "scheduling_search",
      "description": "Search for available screening appointments",
      "parameters": {
        "type": "object", 
        "properties": {
          "location": {
            "type": "string",
            "description": "Preferred location or zip code"
          },
          "serviceType": {
            "type": "string",
            "enum": ["mammography", "tomosynthesis", "breast_mri"],
            "description": "Type of screening service"
          },
          "timeframe": {
            "type": "string",
            "description": "Preferred timeframe (e.g., 'next 2 weeks', 'within month')"
          }
        }
      }
    }
  ],
  "knowledgeBase": [
    {
      "id": "bcs_guidelines",
      "type": "clinical_guidelines",
      "content": "AMA Breast Cancer Screening Guidelines: Routine mammography screening recommended for women ages 50-74 every 2 years. Women 40-49 should discuss individual risk factors with their healthcare provider. Women with family history or genetic mutations may need earlier or more frequent screening.",
      "metadata": {
        "source": "American Medical Association",
        "lastUpdated": "2023-01-01"
      }
    },
    {
      "id": "screening_intervals",
      "type": "clinical_reference",
      "content": "Standard screening intervals: Annual mammography for high-risk patients, biennial (every 2 years) for average-risk patients ages 50-74. Digital breast tomosynthesis (3D mammography) may be used as alternative to standard mammography.",
      "metadata": {
        "source": "Clinical Practice Guidelines"
      }
    },
    {
      "id": "scheduling_workflow",
      "type": "operational_procedure",
      "content": "Scheduling workflow: 1) Verify insurance coverage, 2) Check provider network, 3) Find available appointments within preferred timeframe, 4) Provide SMART Scheduling Links for online booking, 5) Send appointment confirmation and preparation instructions.",
      "metadata": {
        "category": "scheduling"
      }
    }
  ],
  "settings": {
    "enableFhir": true,
    "enableBcsEvaluation": true,
    "enableScheduling": true,
    "enableStreamingResponses": true,
    "maxTurns": 20,
    "contextWindow": 4000
  }
}