# AgentInterOp Development Aliases
# Add to your ~/.bashrc or ~/.zshrc:
# source /path/to/AgentInterOp/.bashrc_aliases

# Quick branch creation
alias new-feat='git checkout main && git pull && git checkout -b feat/'
alias new-fix='git checkout main && git pull && git checkout -b fix/'
alias new-exp='git checkout main && git pull && git checkout -b exp/'
alias new-spike='git checkout main && git pull && git checkout -b spike/'

# Branch management
alias cleanup-branches='git branch --merged main | grep -v main | xargs -n 1 git branch -d'
alias list-branches='git branch -a --sort=-committerdate'
alias current-branch='git rev-parse --abbrev-ref HEAD'

# Development server
alias dev-server='cd /path/to/AgentInterOp && gunicorn --bind 0.0.0.0:5000 --reuse-port --reload main:app'
alias test-server='cd /path/to/AgentInterOp && python -c "from app.main import app; import uvicorn; uvicorn.run(app, host=\"127.0.0.1\", port=8000)"'

# Quick tests
alias quick-test='python -c "from app.main import app; from fastapi.testclient import TestClient; client = TestClient(app); print(\"Health:\", client.get(\"/healthz\").json()); print(\"Agent Card:\", \"✅\" if client.get(\"/.well-known/agent-card.json\").status_code == 200 else \"❌\")"'
alias test-endpoints='curl -s http://localhost:5000/healthz && echo "" && curl -s http://localhost:5000/.well-known/agent-card.json | jq .name'

# Git shortcuts
alias gs='git status'
alias ga='git add .'
alias gc='git commit -m'
alias gp='git push origin $(git rev-parse --abbrev-ref HEAD)'
alias gl='git log --oneline -10'
alias gd='git diff'

# PR management (requires gh CLI)
alias create-pr='gh pr create --draft'
alias ready-pr='gh pr ready'  
alias merge-pr='gh pr merge --squash --delete-branch'
alias view-pr='gh pr view --web'

# Deployment helpers
alias get-preview='gh pr view --json url | jq -r .url'
alias verify-deployment='f(){ curl -s "$1/healthz" && echo "" && curl -s "$1/.well-known/agent-card.json" | jq .name; }; f'

# Development workflow
alias start-work='echo "Branch: $(current-branch)" && echo "Preview will be available after first push"'
alias finish-work='echo "Creating PR..." && gh pr create --title "$(current-branch | sed "s/.*\///g" | sed "s/-/ /g")" --body "Auto-generated PR"'

# Project info
alias project-info='echo "Repo: aks129/AgentInterOp" && echo "Production: https://agent-inter-op.vercel.app" && echo "Docs: https://agent-inter-op.vercel.app/docs" && echo "Agent Card: https://agent-inter-op.vercel.app/.well-known/agent-card.json"'

# Logs and debugging  
alias show-logs='vercel logs https://agent-inter-op.vercel.app'
alias local-logs='tail -f app.log'